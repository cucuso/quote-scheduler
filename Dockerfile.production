# Lightweight runtime image for pre-built native binary
FROM --platform=linux/amd64 oraclelinux:9-slim
WORKDIR /app

# Copy the pre-built native executable
COPY target/scheduler /app/scheduler

# Make it executable
RUN chmod +x /app/scheduler

# Create directory for H2 database
RUN mkdir -p /app/data

EXPOSE 8080

ENTRYPOINT ["/app/scheduler"]
